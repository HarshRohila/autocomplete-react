(this["webpackJsonpautocomplete-react"]=this["webpackJsonpautocomplete-react"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(4),s=n.n(r),u=(n(9),n(2)),o=(n(10),function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(c.useState)("idle"),i=Object(u.a)(n,2),r=i[0],s=i[1],o=Object(c.useState)(null),a=Object(u.a)(o,2),l=a[0],j=a[1],d=Object(c.useState)(null),h=Object(u.a)(d,2),b=h[0],f=h[1],v=Object(c.useCallback)((function(){return s("pending"),j(null),f(null),e.apply(void 0,arguments).then((function(e){j(e),s("success")})).catch((function(e){f(e),s("error")}))}),[e]);return Object(c.useEffect)((function(){t&&v()}),[v,t]),{execute:v,status:r,value:l,error:b}});var a={development:{API_KEY:"65199301"},test:{API_KEY:"65199301"},production:{API_KEY:"695c6d8d"}}.production.API_KEY,l={searchByTitle:function(e){return fetch("http://www.omdbapi.com/?s=".concat(e,"&apikey=").concat(a,"&type=movie")).then((function(e){return e.json()})).then((function(e){return e.Search}))},getById:function(e){return fetch("http://www.omdbapi.com/?i=".concat(e,"&apikey=").concat(a)).then((function(e){return e.json()}))}},j=n(0),d=function(e){var t,n,i=e.movie,r=Object(c.useCallback)((function(){return l.getById(i.imdbID)}),[i]),s=o(r),u=s.value,a=s.status;return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:i.Poster,alt:"Avatar",style:{width:100}}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h4",{children:Object(j.jsx)("b",{children:i.Title})}),"pending"===a&&Object(j.jsx)("p",{children:"Loading..."}),"success"===a&&Object(j.jsx)("p",{children:null===u||void 0===u||null===(t=u.Ratings)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.Value})]})]})},h=function(e){var t=e.onClickMovie,n=e.movies,c=e.status;return Object(j.jsxs)(j.Fragment,{children:["pending"===c&&Object(j.jsx)("h1",{children:"Loading..."}),"success"===c&&Object(j.jsxs)(j.Fragment,{children:[n&&Object(j.jsx)("ul",{className:"search-results",tabIndex:-1,children:n.slice(0,5).map((function(e){return Object(j.jsx)("li",{onClick:function(){return t(e)},children:e.Title},e.imdbID)}))}),!n&&Object(j.jsx)("h1",{children:"Not Found!"})]})]})};var b=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(void 0),v=Object(u.a)(f,2),O=v[0],p=v[1],m=o(l.searchByTitle,!1),x=m.execute,g=m.value,y=m.status,I=Object(c.useMemo)((function(){return function(e){var t,n=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];clearTimeout(t),t=setTimeout((function(){e.apply(n,r)}),c)}}(x,300)}),[x]);return Object(c.useEffect)((function(){n.length>=3&&I(n)}),[n,I]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Search for Movies"}),Object(j.jsxs)("div",{className:"search-container",children:[Object(j.jsx)("input",{type:"search","data-testid":"search-input",value:n,placeholder:"Movie TItle",onChange:function(e){return i(e.target.value)},onFocus:function(){return b(!0)},onBlur:function(){return setTimeout((function(){return b(!1)}),100)}}),a&&n.length>=3&&Object(j.jsx)(h,{onClickMovie:function(e){p(e),i(e.Title)},movies:g,status:y})]}),O&&Object(j.jsx)("div",{className:"movie-container",children:Object(j.jsx)(d,{movie:O})})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),f()},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.d8180673.chunk.js.map